"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}$(document).ready(function(){var d=0,u=[0,70,140,210,280,350,420,490,560,630],l=[1,0,9,8,7,6,5,4,3,2];function e(e,t,n){this.speed=0,this.step=n,this.si=null,this.el=e,this.maxSpeed=t,this.pos=null,this.finalIndex=null,$(e).pan({fps:60,dir:"down"}),$(e).spStop()}function p(){$("#control").attr("disabled",!1)}e.prototype.start=function(){var e=this;$(e.el).addClass("motion"),$(e.el).spStart(),e.si=window.setInterval(function(){e.speed<e.maxSpeed&&(e.speed+=e.step,$(e.el).spSpeed(e.speed))},100)},e.prototype.stop=function(){var e=this;clearInterval(e.si),e.si=window.setInterval(function(){30<e.speed&&(e.speed-=e.step,$(e.el).spSpeed(e.speed)),e.speed<=30&&(e.finalPos(e.el),$(e.el).spSpeed(0),$(e.el).spStop(),clearInterval(e.si),$(e.el).removeClass("motion"),e.speed=0)},100)},e.prototype.finalPos=function(){var e,t,n,r,o=this.el,i=2e9,s=$(o).attr("id"),a=document.getElementById(s).style.backgroundPosition;for(a=a.split(" ")[1],a=parseInt(a,10),n=0;n<u.length;n++)for(r=0;;r++){var l,p=null!==this.finalIndex?this.finalIndex:n;if(a<(l=u[p]+700*r)){l-a<i&&(i=l-a,e=l,this.pos=u[n],console.log("%c ! "+this.finalIndex,"background: #222; color: #bada55"));break}}t="0 "+(e+=704)+"px",console.log("%c bgPos! "+t,"background: #222; color: #bada55"),$(o).animate({backgroundPosition:"("+t+")"},{duration:200,complete:function(){d++}})},e.prototype.reset=function(){var e=$(this.el).attr("id");$._spritely.instances[e].t=0,$(this.el).css("background-position","0px 4px"),this.speed=0,d=0,$("#result").html("")};var c=new e("#slot1",40,1),f=new e("#slot2",50,2),y=new e("#slot3",60,3),h=new e("#slot4",70,4);$("#control").click(function(){var e,t,n,r,o,i,s;if("Start"==this.innerHTML){!result_input||(t=result_input.value)&&(n=_slicedToArray(t,4),r=n[0],o=n[1],i=n[2],s=n[3],c.finalIndex=l.findIndex(function(e){return e===parseInt(r)}),f.finalIndex=l.findIndex(function(e){return e===parseInt(o)}),y.finalIndex=l.findIndex(function(e){return e===parseInt(i)}),h.finalIndex=l.findIndex(function(e){return e===parseInt(s)})),c.start(),f.start(),y.start(),h.start();for(var a=1;a<5;a++)!function(e){setTimeout(function(){1===e&&c.stop(),2===e&&f.stop(),3===e&&y.stop(),4===e&&h.stop()},500*e+3e3)}(a);e=window.setInterval(function(){c.speed>=c.maxSpeed&&f.speed>=f.maxSpeed&&y.speed>=y.maxSpeed&&(p(),window.clearInterval(e))},100)}else"Stop"==this.innerHTML?(c.stop(),f.stop(),y.stop(),this.innerHTML="Reset",$("#control").attr("disabled",!0),e=window.setInterval(function(){0===c.speed&&0===f.speed&&0===y.speed&&3===d&&(p(),window.clearInterval(e))},100)):(c.reset(),f.reset(),y.reset(),this.innerHTML="Start")})});